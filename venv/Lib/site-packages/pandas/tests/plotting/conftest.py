<<<<<<< HEAD
import gc

=======
>>>>>>> 0a1ec7f2b5fdf2814bfdd7c1a032c09ad2fe1c0a
import numpy as np
import pytest

from pandas import (
    DataFrame,
    to_datetime,
)
<<<<<<< HEAD


@pytest.fixture(autouse=True)
def mpl_cleanup():
    # matplotlib/testing/decorators.py#L24
    # 1) Resets units registry
    # 2) Resets rc_context
    # 3) Closes all figures
    mpl = pytest.importorskip("matplotlib")
    mpl_units = pytest.importorskip("matplotlib.units")
    plt = pytest.importorskip("matplotlib.pyplot")
    orig_units_registry = mpl_units.registry.copy()
    with mpl.rc_context():
        mpl.use("template")
        yield
    mpl_units.registry.clear()
    mpl_units.registry.update(orig_units_registry)
    plt.close("all")
    # https://matplotlib.org/stable/users/prev_whats_new/whats_new_3.6.0.html#garbage-collection-is-no-longer-run-on-figure-close  # noqa: E501
    gc.collect(1)
=======
import pandas._testing as tm
>>>>>>> 0a1ec7f2b5fdf2814bfdd7c1a032c09ad2fe1c0a


@pytest.fixture
def hist_df():
<<<<<<< HEAD
    n = 50
    rng = np.random.default_rng(10)
    gender = rng.choice(["Male", "Female"], size=n)
    classroom = rng.choice(["A", "B", "C"], size=n)

    hist_df = DataFrame(
        {
            "gender": gender,
            "classroom": classroom,
            "height": rng.normal(66, 4, size=n),
            "weight": rng.normal(161, 32, size=n),
            "category": rng.integers(4, size=n),
            "datetime": to_datetime(
                rng.integers(
                    812419200000000000,
                    819331200000000000,
                    size=n,
                    dtype=np.int64,
                )
            ),
        }
    )
=======
    n = 100
    with tm.RNGContext(42):
        gender = np.random.choice(["Male", "Female"], size=n)
        classroom = np.random.choice(["A", "B", "C"], size=n)

        hist_df = DataFrame(
            {
                "gender": gender,
                "classroom": classroom,
                "height": np.random.normal(66, 4, size=n),
                "weight": np.random.normal(161, 32, size=n),
                "category": np.random.randint(4, size=n),
                "datetime": to_datetime(
                    np.random.randint(
                        812419200000000000,
                        819331200000000000,
                        size=n,
                        dtype=np.int64,
                    )
                ),
            }
        )
>>>>>>> 0a1ec7f2b5fdf2814bfdd7c1a032c09ad2fe1c0a
    return hist_df
